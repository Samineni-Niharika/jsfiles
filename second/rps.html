<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock paper scissor</title>
</head>
<body>
    <div>
       
        <h3>Rock paper scissor</h3>
        <button onclick="
         myfunc1('rock'); 
        ">rock</button>
        <button onclick="    
            myfunc1('paper');
        ">paper</button>
        <button onclick="
            myfunc1('scissor');           
        ">scissor</button>
        <button onclick="
          score.wins=0,
          score.loose=0,
          score.tie=0
        ">Reset</button>
    </div>
    <script>
        let cm;
        let res;
         const score= JSON.parse(localStorage.getItem('score')) || {wins:0,loose:0,tie:0}
        
        function myfunc1(pm){
            myfunc();
           
            if(pm=='rock')
            {
                    if(cm==='rock'){
                    res='TIE';
                    }
                    else if(cm==='paper'){
                        res='You loose';
                    }
                    else{
                        res='You win';
                    }
            }
            else if(pm=='paper')
            {
                    if(cm==='paper'){
                        res='TIE';
                    }
                    else if(cm==='scissor'){
                        res='You loose';
                    }
                    else{
                        res='You win';
                    }
            }
            else if(pm=='scissor')
            {
                    if(cm==='scissor'){
                        res='TIE';
                    }
                    else if(cm==='rock'){
                        res='You loose';
                    }
                    else{
                        res='You win';
                    }
                    
            }
            
            if(res=='You win'){
                score.wins= score.wins + 1;
                
            }
            else if(res==='You loose'){
                score.loose=score.loose +1;
            }
            else if(res==='TIE'){
                score.tie=score.tie+1;
            }
            localStorage.setItem('score',JSON.stringify(score))
            // when u use alert someitmes window doesnot give access it gives output but voilation error.
            console.log(`you picked ${pm}.computer picked ${cm}.${res}.\nwin : ${score.wins} loose : ${score.loose} tie : ${score.tie}`);

        }
        function myfunc(){
            const rn = Math.random();
            
            if (rn>=0 && rn<(1/3)){
                cm='rock';
            }
            else if(rn<2/3 && rn>=1/3){
                cm='paper';
            }
            else{
                cm='scissor';
                
            }
            
        }
        
    </script>
</body>
</html>